(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{8212:function(e,n,o){"use strict";o.d(n,{Z:function(){return P}});var t=o(5893),i=o(7294),r=o(990),u=o(5157),a=o(7927),s=o(1314),l=o(2911),c=o(6227),v=o(5964),m=o(1334),d=function(){let e={sun:{start:.69,end:.85}},n=(0,s.uW)(),o=(0,i.useRef)(),{intensityPoint:a,decay:c,positionPoint:v,distance:d,colorPoint:f}=(0,m.M4)("sunLight",{intensityPoint:{value:21.2,min:0,max:40},distance:{value:220,min:0,max:1e3},decay:{value:1.6,min:0,max:20},positionPoint:{value:{x:19,y:-13,z:216},step:.1},colorPoint:"#380f09"},{collapsed:!0}),p=e=>{let n=r.p8.utils.interpolate(2.5,-25,e);r.p8.utils.interpolate(790,790,e),o.current.position.y=n};return(0,l.A)(()=>{let o=n.scroll.progress,t=(0,u.Z)(r.p8.utils.mapRange(e.sun.start,e.sun.end,0,1,o),0,1);p(t)}),(0,t.jsx)("pointLight",{ref:o,position:Object.values(v),intensity:a,distance:d,decay:c,color:f})},f=function(){let e={dayNight:{start:.75,end:.97}},n=(0,i.useRef)(),o=(0,i.useRef)(),a=(0,i.useRef)(),{intensityPoint:c,distance:v,decay:f,positionPoint:p,colorPoint:g,intensityAmbient:h,colorAmbient:C}=(0,m.M4)("lights",{point:(0,m.so)({intensityPoint:{value:2,min:0,max:200},distance:{value:175,min:0,max:500},decay:{value:15,min:0,max:100},positionPoint:{value:{x:0,y:0,z:-10.5},step:.1},colorPoint:"#765853"}),ambient:(0,m.so)({intensityAmbient:{value:.1,min:0,max:20},colorAmbient:{value:"#b9c0ce"}})},{collapsed:!0}),y=e=>{a.current&&(a.current.intensity=r.p8.utils.interpolate(h,.01,e),n.current.intensity=r.p8.utils.interpolate(c,0,e),o.current.intensity=r.p8.utils.interpolate(0,c,e))},x=(0,s.uW)();return(0,l.A)(()=>{let{dayNight:n}=e,o=x.scroll.progress,t=(0,u.Z)(r.p8.utils.mapRange(n.start,n.end,0,1,o),0,1);y(t)}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("pointLight",{ref:n,position:Object.values(p),intensity:c,distance:v,decay:f,color:"rgb(118, 88, 83)"}),(0,t.jsx)("pointLight",{ref:o,position:Object.values(p),intensity:0,distance:v,decay:f,color:"rgb(57, 65, 82)"}),(0,t.jsx)("ambientLight",{ref:a,intensity:h,color:C}),(0,t.jsx)(d,{})]})},p=o(9477),g=o(1077);let h={a:{color:{value:"#c3cbe2",instance:new p.Color("#c3cbe2")},position:new p.Vector3(1.8,1,.9)},b:{color:{value:"#4d7e96",instance:new p.Color("#4d7e96")},position:new p.Vector3(-1,-1,1.4)}},C={uLightAColor:{value:h.a.color.instance},uLightAPosition:{value:h.a.position},uLightAIntensity:{value:1},uLightBColor:{value:h.b.color.instance},uLightBPosition:{value:h.b.position},uLightBIntensity:{value:1},uSubdivision:{value:new p.Vector2(512,512)},uOffset:{value:new p.Vector3},uWave1Enabled:{value:!0},uWave1Frequency:{value:4.5},uWave1Speed:{value:.2},uWave1Amplitude:{value:.43},uWave1Direction:{value:new p.Vector2(.9,1.1)},uWave2Enabled:{value:!0},uWave2Frequency:{value:8.9},uWave2Speed:{value:.5},uWave2Amplitude:{value:.85},uWave2Direction:{value:new p.Vector2(3.2,2.6)},uWave3Enabled:{value:!0},uWave3Frequency:{value:10},uWave3Speed:{value:.4},uWave3Amplitude:{value:.48},uWave3Direction:{value:new p.Vector2(.5,1)},uTime:{value:0}};function y(e){let n=(0,i.useRef)(),{position:o,rotationX:r,uWave1Amplitude:u,metalness:a}=(0,m.M4)("water",{metalness:{value:.3,min:0,max:10},rotationX:{value:-1.6,min:-(2*Math.PI),max:2*Math.PI},position:{value:{x:0,y:-20,z:36},step:1}},{collapsed:!0}),s=(0,i.useRef)();return(0,i.useEffect)(()=>{s.current&&n.current&&s.current.geometry.computeTangents()}),(0,l.A)((e,o)=>{n.current.uniforms.uTime.value+=1*o}),(0,t.jsxs)("mesh",{ref:s,position:Object.values(o),"rotation-x":r,children:[(0,t.jsx)("planeGeometry",{args:[100,50,512,512]}),(0,t.jsx)(g.Z,{ref:n,baseMaterial:p.MeshStandardMaterial,defines:{USE_TANGENT:""},vertexShader:"#define GLSLIFY 1\n#define M_PI 3.1415926535897932384626433832795\n\nuniform vec3 uLightAColor;\nuniform vec3 uLightAPosition;\nuniform float uLightAIntensity;\nuniform vec3 uLightBColor;\nuniform vec3 uLightBPosition;\nuniform float uLightBIntensity;\n\nuniform vec2 uSubdivision;\n\nuniform vec3 uOffset;\n\n/*\n* WAVES\n*/\nuniform bool uWave1Enabled;\nuniform float uWave1Frequency;\nuniform float uWave1Speed;\nuniform float uWave1Amplitude;\nuniform vec2 uWave1Direction;\n\nuniform bool uWave2Enabled;\nuniform float uWave2Frequency;\nuniform float uWave2Speed;\nuniform float uWave2Amplitude;\nuniform vec2 uWave2Direction;\n\nuniform bool uWave3Enabled;\nuniform float uWave3Frequency;\nuniform float uWave3Speed;\nuniform float uWave3Amplitude;\nuniform vec2 uWave3Direction;\nuniform float uTime;\n\nvarying vec3 vColor;\n\nvec3 createGerstnerWave(vec3 _position, float _waveFrequency, float _speed, float _amplitude, vec2 _direction)\n{\n	float k = 2. * M_PI / _waveFrequency;\n	vec2 d = normalize(_direction);\n	float c = sqrt(_speed / k);\n	float f = k * (dot(d, _position.xy) - c * uTime);\n	return vec3(_position.x, _position.y, _amplitude * sin(f));\n}\n\nvec3 getDisplacedPosition(vec3 _position)\n{\n    vec3 displacedPosition = _position;\n\n	// Temp values for waveB\n	float waveLength = 10.;\n	float speed = 1.;\n	float amplitude = 5.;\n	vec2 direction = vec2(-0.1, 1.);\n	\n	vec3 wave1 = createGerstnerWave(_position, uWave1Frequency, uWave1Speed, uWave1Amplitude, uWave1Direction);\n	vec3 wave2 = createGerstnerWave(_position, uWave2Frequency, uWave2Speed, uWave2Amplitude, uWave2Direction);\n	vec3 wave3 = createGerstnerWave(_position, uWave3Frequency, uWave3Speed, uWave3Amplitude, uWave3Direction);\n\n	if (uWave1Enabled) displacedPosition += wave1;\n	if (uWave2Enabled )displacedPosition += wave2;\n	if (uWave3Enabled) displacedPosition += wave3;\n\n    return displacedPosition;\n}\n\nvoid main()\n{\n    // Position\n    vec3 displacedPosition = getDisplacedPosition(position);\n    vec4 viewPosition = modelViewMatrix * vec4(displacedPosition, 1.0);\n\n    // Bi tangents\n    float distanceA = (M_PI * 2.0) / uSubdivision.x;\n    float distanceB = M_PI / uSubdivision.x;\n\n    vec3 biTangent = cross(normal, tangent.xyz);\n\n    vec3 positionA = position + tangent.xyz * distanceA;\n    vec3 displacedPositionA = getDisplacedPosition(positionA);\n\n    vec3 positionB = position + biTangent.xyz * distanceB;\n    vec3 displacedPositionB = getDisplacedPosition(positionB);\n\n    vec3 computedNormal = cross(displacedPositionA - displacedPosition.xyz, displacedPositionB - displacedPosition.xyz);\n    computedNormal = normalize(computedNormal);\n\n    // Color\n    float lightAIntensity = max(0.0, - dot(computedNormal.xyz, normalize(- uLightAPosition))) * uLightAIntensity;\n    float lightBIntensity = max(0.0, - dot(computedNormal.xyz, normalize(- uLightBPosition))) * uLightBIntensity;\n\n    vec3 color = vec3(0.0);\n	\n    color = mix(uLightBColor, uLightAColor, normalize(computedNormal));\n    color = mix(color, uLightAColor, lightAIntensity);\n    color = mix(color, uLightBColor, lightBIntensity);\n    color = mix(color, vec3(1.0), clamp(0.0, 0.0, 1.0));\n\n    // gl_Position = projectionMatrix * viewPosition;\n\n	csm_Position = displacedPosition;\n	csm_Normal = computedNormal;\n    // Varying\n    vColor = color;\n}",fragmentShader:"#define GLSLIFY 1\nuniform float uTime;\nuniform float uHovered;\n\nvarying vec2 vUv;\nvarying vec3 vColor;\n\nvoid main()	{\n    gl_FragColor = vec4(vColor, 1.);\n}",uniforms:C,metalness:a})]})}function x(){let{nodes:e,materials:n}=(0,c.L)("/models/cube.glb");return(0,t.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Cube.geometry,material:n.Material})}function P(){let e={y:{start:-300,end:3},z:{start:30,end:-70}},n=(0,s.uW)(),o=(0,i.useRef)(),c=(0,a.Z)(o),m=(0,i.useRef)(r.p8.timeline({paused:!0})),d=()=>{c.add(()=>{m.current.to(o.current.position,{y:e.y.end,duration:.7,ease:"linear"}),m.current.to(o.current.position,{z:e.z.end,duration:.3,ease:"expo.in"},"-=0.2")})},p=e=>{m.current.progress(e)};return(0,i.useEffect)(()=>(d(),()=>null==c?void 0:c.revert()),[]),(0,l.A)(()=>{let e=(0,u.Z)(r.p8.utils.mapRange(0,.85,0,1,n.scroll.progress),0,1);p(e)}),(0,t.jsxs)("group",{ref:o,"position-y":e.y.start,"position-z":e.z.start,"rotation-y":Math.PI,children:[(0,t.jsx)(v.A,{size:17,focus:0,samples:6}),(0,t.jsx)(y,{}),(0,t.jsx)(x,{}),(0,t.jsx)(f,{})]})}},8889:function(e,n,o){"use strict";o.d(n,{Z:function(){return f}});var t=o(5893),i=o(7294),r=o(9477),u=o(5769),a=o(990),s=o(5157),l=o(7927),c=o(5507),v=o(1314),m=o(1334),d=o(2911);o(9455);var f=e=>{let n={translate:{start:.6,end:.744},dayNight:{start:.75,end:.97}},o=(0,v.uW)(),{viewport:f,...p}=(0,d.z)(),g=(0,i.useRef)(),h=(0,i.useRef)(),C=(0,u.m)("/textures/sky.jpg"),y=(0,i.useMemo)(()=>[c.backgroundColor,"#283141","#7a4d45","#9a6d4d"],[]),x=(0,i.useMemo)(()=>["#0e1624","#161a24","#191d34"],[]),P=(0,i.useMemo)(()=>({uTime:{value:0},uProgress:{value:0},uProgressDayNight:{value:0},uSunPos:{value:new r.Vector2(0,0)},uProgress1:{value:.39},uProgress2:{value:.04},uProgress3:{value:0},uAttenuation1:{value:.42},uAttenuation2:{value:.58},uAttenuation3:{value:.22},uColor1:{value:new r.Color(y[0])},uColor2:{value:new r.Color(y[1])},uColor2Night:{value:new r.Color(y[1])},uColor3:{value:new r.Color(y[2])},uColor3Night:{value:new r.Color(x[1])},uColor4:{value:new r.Color(y[3])},uColor4Night:{value:new r.Color(x[2])},uTexture:{value:C}}),[y,C]),A=(0,l.Z)(g),W=(0,i.useRef)(a.p8.timeline({paused:!0})),w=()=>{A.add(()=>{W.current.to(g.current.position,{y:.3*f.height,duration:1,ease:"linear"})})},b=e=>{W.current.progress(e)},N=e=>{h.current&&(h.current.uniforms.uProgressDayNight.value=e)};return(0,i.useEffect)(()=>(w(),()=>null==A?void 0:A.revert()),[]),(0,d.A)(()=>{let{translate:e,dayNight:t}=n,i=o.scroll.progress,r=(0,s.Z)(a.p8.utils.mapRange(e.start,e.end,0,1,i),0,1),u=(0,s.Z)(a.p8.utils.mapRange(t.start,t.end,0,1,i),0,1);b(r),N(u)}),(0,m.M4)("Sky Plane",{uProgress1:{value:P.uProgress1.value,min:0,max:1,step:.001,onChange:e=>{h.current&&(h.current.uniforms.uProgress1.value=e)}},uProgress2:{value:P.uProgress2.value,min:0,max:1,step:.001,onChange:e=>{h.current&&(h.current.uniforms.uProgress2.value=e)}},uProgress3:{value:P.uProgress3.value,min:0,max:1,step:.001,onChange:e=>{h.current&&(h.current.uniforms.uProgress3.value=e)}},uAttenuation1:{value:P.uAttenuation1.value,min:0,max:1,step:.001,onChange:e=>{h.current&&(h.current.uniforms.uAttenuation1.value=e)}},uAttenuation2:{value:P.uAttenuation2.value,min:0,max:1,step:.001,onChange:e=>{h.current&&(h.current.uniforms.uAttenuation2.value=e)}},uAttenuation3:{value:P.uAttenuation3.value,min:0,max:1,step:.001,onChange:e=>{h.current&&(h.current.uniforms.uAttenuation3.value=e)}},uColor1:{value:y[0],onChange:e=>{h.current&&(h.current.uniforms.uColor1.value=new r.Color(e))}},uColor2:{value:y[1],onChange:e=>{h.current&&(h.current.uniforms.uColor2.value=new r.Color(e))}},uColor2Night:{value:x[0],onChange:e=>{h.current&&(h.current.uniforms.uColor2Night.value=new r.Color(e))}},uColor3:{value:y[2],onChange:e=>{h.current&&(h.current.uniforms.uColor3.value=new r.Color(e))}},uColor3Night:{value:x[1],onChange:e=>{h.current&&(h.current.uniforms.uColor3Night.value=new r.Color(e))}},uColor4:{value:y[3],onChange:e=>{h.current&&(h.current.uniforms.uColor4.value=new r.Color(e))}},uColor4Night:{value:x[2],onChange:e=>{h.current&&(h.current.uniforms.uColor4Night.value=new r.Color(e))}}},{collapsed:!0}),(0,t.jsxs)("mesh",{ref:g,"position-y":-f.height,scale:[f.width,f.height,1],renderOrder:-2,children:[(0,t.jsx)("planeGeometry",{attach:"geometry",args:[1,1]}),(0,t.jsx)("shaderMaterial",{ref:h,uniforms:P,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	gl_Position = projectionMatrix * mvPosition;\n\n	vUv= uv; \n}",fragmentShader:"#define GLSLIFY 1\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform vec3 uColor3;\nuniform vec3 uColor4;\nuniform vec3 uColor2Night;\nuniform vec3 uColor3Night;\nuniform vec3 uColor4Night;\nuniform sampler2D uTexture;\n\nuniform float uTime;\nuniform float uProgress;\nuniform float uProgressDayNight;\n\nuniform float uProgress1;\nuniform float uProgress2;\nuniform float uProgress3;\nuniform float uAttenuation1;\nuniform float uAttenuation2;\nuniform float uAttenuation3;\n\nvarying vec2 vUv;\n\nvoid main() {\n	// Colors\n	vec4 texture = texture2D(uTexture, vUv);\n\n	// Progress day night\n	vec3 color2 = mix(uColor2, uColor2Night, uProgressDayNight);\n	vec3 color3 = mix(uColor3, uColor3Night, uProgressDayNight);\n	vec3 color4 = mix(uColor4, uColor4Night, uProgressDayNight);\n	float attenuation2 = mix(uAttenuation2, 0.14, uProgressDayNight);\n\n	// Steps\n	float step1 = smoothstep(uProgress1, uProgress1 + uAttenuation1, vUv.y);\n	float step2 = smoothstep(uProgress2, uProgress2 + attenuation2, vUv.y);\n	float step3 = smoothstep(uProgress3, uProgress3 + uAttenuation3, vUv.y);\n\n	vec3 color = vec3(0.);\n\n	   color = mix(mix(color4,\n                         color3,\n                        step3),\n                     mix(color2,\n                         uColor1,\n                         step1),\n                     step2);\n\n	gl_FragColor = vec4(color, 1.);\n	#include <colorspace_fragment>\n}\n\n",depthWrite:!1})]})}},7927:function(e,n,o){"use strict";o.d(n,{Z:function(){return r}});var t=o(7294),i=o(990);function r(e){let n=(0,t.useMemo)(()=>i.p8.context(()=>{},e),[e]);return n}},5626:function(e,n,o){"use strict";o.d(n,{Z:function(){return a}}),o(7294);var t=o(6803),i=o.n(t),r=o(5503);let u=i()(r.h);function a(e){return u.image(e)}},5157:function(e,n){"use strict";n.Z=(e,n,o)=>Math.min(Math.max(e,n),o)},6718:function(e,n){"use strict";n.Z=(e,n,o)=>(1-o)*e+o*n},5507:function(e){e.exports={introBackgroundColor:"#191e29",backgroundColor:"#191e29",projectBackgroundColor:"#171717",orange:"#df0812",white:"#e6ded4",colorBall:"#ab072b"}},9455:function(e){"use strict";e.exports={timeOffset:.5}}}]);